<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MonthVest - Login</title>
<style>
    body { 
        font-family: Arial, sans-serif; 
        background-color: #f5f6fa; 
        margin: 0;
    }
    header {
        background-color: #2575fc;
        color: #fff;
        padding: 20px 40px;
        font-size: 2rem;
        font-weight: bold;
    }
    .login-container { 
        background-color: #fff; 
        padding: 40px; 
        border-radius: 10px; 
        box-shadow: 0 4px 12px rgba(0,0,0,0.1); 
        width: 350px; 
        margin: 50px auto;
    }
    h2 { text-align: center; color: #2575fc; margin-bottom: 20px; }
    input { width: 100%; padding: 12px; margin: 10px 0; border-radius: 6px; border: 1px solid #ccc; }
    button { width: 100%; padding: 12px; background-color: #2575fc; color: #fff; border: none; border-radius: 6px; font-weight: bold; cursor: pointer; transition: 0.3s; }
    button:hover { background-color: #0D1B2A; }
    .register-link { text-align: center; margin-top: 15px; }
    .register-link a { color: #2575fc; text-decoration: none; font-weight: bold; }
    .register-link a:hover { color: #0D1B2A; }
</style>
</head>
<body>

<header>MonthVest</header>

<div class="login-container">
    <h2>Login</h2>
    <input type="email" id="email" placeholder="Email ID" required>
    <input type="password" id="password" placeholder="Password" required>
    <button onclick="login()">Login</button>
    <div class="register-link">
        <p>Don't have an account? <a href="sign_up.html">Sign up</a></p>
    </div>
</div>

<script>
async function login() {
    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value;

    if (!email || !password) {
        alert("Please enter both email and password!");
        return;
    }

    // Send to backend
    const response = await fetch("http://127.0.0.1:5000/login", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ email, password })
    });

    const result = await response.json();

    if (result.status === "success") {
        // store logged-in user info
        localStorage.setItem("loggedInUser", JSON.stringify(result.user));

        alert("Login successful! Redirecting...");
        window.location.href = "dashboard.html";
    } 
    else {
        alert(result.message);
    }
}
</script>



</body>
</html>
